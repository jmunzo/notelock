# notelock
* a minimalist zero-knowledge plaintext encryption platform
* encrypt a message and receive a one-time-use link to send
* messages have a time limit and are destroyed after reading

## about
* messages are encrypted by the client in aes-gcm 256-bit format
* a secret key is generated by the client at the moment of encryption
* the client retains the key, the server receives the message
* the server generates an id and timestamp to store the message
* the server provides a url to access the message by its id
* the client takes that url and privately appends the key
* the new private url can be shared with anyone
* once the url is visited, the encrypted message is purged
* messages expire after 24 hours if left unread

## built using
* node
* express
* ejs
* better-sqlite3
* nanoid
* express-sslify
* express-rate-limit

## considerations
* requires https for cryptographic functions
* no storage persistence between sessions

## other features
* 'api only' mode - disables the webpage for generating encrypted messages
* message expiration - set a custom time limit, or prevent automatic purging
* global and encryption based rate limits - set custom thresholds
* powershell 7 module for creating encrypted messages

## install
requires node.js - https://nodejs.org/en/download

clone the repo and install dependencies
```
git clone https://github.com/jmunzo/notelock.git
cd notelock
npm install
```

point to your '.cer' and unencrypted '.key' files for https, and make other changes
```
nano app.js
```

run the app
```
node app.js
```

## generate a self-signed cert and key (for testing only)

make a directory in notelock
```
cd notelock
mkdir certs
cd certs
```

make a self-signed cert and unencrypted key
```
openssl req -newkey rsa:4096 -x509 -sha256 -days 365 -nodes -out certificate.cer -keyout private_unencrypted.key
```

## final thoughts
* requires token auth to truly be 'production ready'
* code could probably be way more efficient
